{"ast":null,"code":"var _jsxFileName = \"/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport { db } from \"../firebase\";\nimport Quiz from \"../components/Quiz\";\nimport Header from \"../components/Header\";\nimport Buttons from \"../components/Buttons\";\n\nconst Main = () => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    quizLength: 0,\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100\n  });\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          isUserEmpty: false\n        }));\n      }\n\n      console.log(\"useEffect実行中\");\n    });\n    let list = [];\n    db.collection(\"quiz\").get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        const new_hash = {\n          text: doc.data().text,\n          choice1: doc.data().choice1,\n          choice2: doc.data().choice2,\n          choice3: doc.data().choice3,\n          choice4: doc.data().choice4,\n          answer: doc.data().answer\n        };\n        list.push(new_hash);\n      });\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        quiz: list,\n        quizLength: quiz.length\n      }));\n    });\n    return () => {\n      console.log('unmounting');\n    };\n  }, []);\n\n  const logout = () => {\n    firebase.auth().signOut().then(function () {}).catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase.auth().signInWithPopup(provider).then(function (result) {}).catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count,\n      answer: false\n    }));\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count\n    }));\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: true,\n        answer: true\n      }));\n    } else {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: false,\n        answer: true\n      }));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-1985524870\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    isUserEmpty: state.isUserEmpty,\n    googleLogin: () => googleLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1985524870\" + \" \" + \"question mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, __jsx(Quiz, {\n    count: state.count,\n    quiz: state.quiz[state.count],\n    showAnswer: (num, quiz) => showAnswer(num, quiz),\n    answer: state.answer,\n    correct: state.correct,\n    answerNumber: state.answerNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), __jsx(Buttons, {\n    nextQuestion: (num, quiz) => nextQuestion(),\n    returnQuestion: (num, quiz) => returnQuestion(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"1985524870\",\n    __self: this\n  }, \"body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen', 'Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue', sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-image:url(/images/background.jpg);background-size:cover;-webkit-text-decoration:none;text-decoration:none;}code{font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New', monospace;}.question{margin-top:20px;padding:20px;width:800px;background-color:white;}a{font-weight:bold;}.choice{padding:10px;border-radius:10px;margin-top:20px;display:block;width:100%;text-align:left;}.question-correct-choice{background-color:#52c41a;color:white;border:#52c41a 4px solid;}.question-wrong-choice{background-color:red;color:white;border:red 4px solid;}.choice p{font-size:20px;font-weight:bold;margin:0;}.answer-discription{border:#52c41a 4px solid;margin:15px 0 15px 0;padding:10px;font-weight:bold;}.button-field{text-align:center;}.quiz-button{margin:40px 80px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkl5QixBQUdzQixBQVlBLEFBSU0sQUFPQyxBQUlKLEFBU1ksQUFNSixBQUtOLEFBS1csQUFNUixBQUlELFNBM0ROLElBeUJRLEVBb0JGLENBL0JKLENBT2hCLEFBdUNBLENBSkEsR0FoQmUsSUFOQSxBQWdCVSxJQW5DVixHQVdJLEFBb0JQLENBTFksSUFOSyxJQW5CSCxBQStCMUIsS0FJZ0IsRUF4QkUsTUFlbEIsS0FVcUIsR0F4QlAsQUFRZCxFQW5CQSxTQVlvQixFQW5CcEIsQ0EyQ0EsYUF2QkEsc0VBN0J1QyxtQ0FDRCxrQ0FDVyw2Q0FDdkIsc0JBQ0Qsa0RBQ3pCIiwiZmlsZSI6Ii9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGZpcmViYXNlIGZyb20gXCIuLi9maXJlYmFzZVwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vZmlyZWJhc2VcIjtcbmltcG9ydCBRdWl6IGZyb20gXCIuLi9jb21wb25lbnRzL1F1aXpcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XG5pbXBvcnQgQnV0dG9ucyBmcm9tIFwiLi4vY29tcG9uZW50cy9CdXR0b25zXCI7XG5cbmNvbnN0IE1haW4gPSAoKSA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGxvZ2luRW1haWw6IFwiXCIsXG4gICAgbG9naW5QYXNzd29yZDogXCJcIixcbiAgICBlbWFpbDogXCJcIixcbiAgICBwYXNzd29yZDogXCJcIixcbiAgICBpc1VzZXJFbXB0eTogdHJ1ZSxcbiAgICBxdWl6OiBbXSxcbiAgICBxdWl6TGVuZ3RoOiAwLFxuICAgIGNvdW50OiAwLFxuICAgIGFuc3dlcjogZmFsc2UsXG4gICAgY29ycmVjdDogZmFsc2UsXG4gICAgYW5zd2VyTnVtYmVyOiAxMDAsXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0cnVl44Gn44GZ77yBXCIpO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgaXNVc2VyRW1wdHk6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKFwidXNlRWZmZWN05a6f6KGM5LitXCIpO1xuICAgIH0pO1xuXG4gICAgbGV0IGxpc3QgPSBbXTtcbiAgICBkYi5jb2xsZWN0aW9uKFwicXVpelwiKVxuICAgICAgLmdldCgpXG4gICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4ge1xuICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld19oYXNoID0ge1xuICAgICAgICAgICAgdGV4dDogZG9jLmRhdGEoKS50ZXh0LFxuICAgICAgICAgICAgY2hvaWNlMTogZG9jLmRhdGEoKS5jaG9pY2UxLFxuICAgICAgICAgICAgY2hvaWNlMjogZG9jLmRhdGEoKS5jaG9pY2UyLFxuICAgICAgICAgICAgY2hvaWNlMzogZG9jLmRhdGEoKS5jaG9pY2UzLFxuICAgICAgICAgICAgY2hvaWNlNDogZG9jLmRhdGEoKS5jaG9pY2U0LFxuICAgICAgICAgICAgYW5zd2VyOiBkb2MuZGF0YSgpLmFuc3dlcixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxpc3QucHVzaChuZXdfaGFzaCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgcXVpejogbGlzdCxcbiAgICAgICAgICBxdWl6TGVuZ3RoOiBxdWl6Lmxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3VubW91bnRpbmcnKVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHtcbiAgICBmaXJlYmFzZVxuICAgICAgLmF1dGgoKVxuICAgICAgLnNpZ25PdXQoKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge30pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7fSk7XG4gIH07XG5cbiAgY29uc3QgZ29vZ2xlTG9naW4gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAgICBpZiAoc3RhdGUuaXNVc2VyRW1wdHkpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZ29vZ2xl44Gn44Ot44Kw44Kk44Oz44GX44G+44GZXCIpO1xuICAgICAgZmlyZWJhc2VcbiAgICAgICAgLmF1dGgoKVxuICAgICAgICAuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7fSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbmV4dFF1ZXN0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvdW50ID0gc3RhdGUuY291bnQgKyAxO1xuICAgIHNldFN0YXRlKHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY291bnQ6IGNvdW50LFxuICAgICAgYW5zd2VyOiBmYWxzZSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZXR1cm5RdWVzdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb3VudCA9IHN0YXRlLmNvdW50IC0gMTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvdW50OiBjb3VudCxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzaG93QW5zd2VyID0gKG51bSwgYW5zd2VyKSA9PiB7XG4gICAgaWYgKG51bSA9PT0gYW5zd2VyKSB7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhbnN3ZXJOdW1iZXI6IG51bSxcbiAgICAgICAgY29ycmVjdDogdHJ1ZSxcbiAgICAgICAgYW5zd2VyOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFuc3dlck51bWJlcjogbnVtLFxuICAgICAgICBjb3JyZWN0OiBmYWxzZSxcbiAgICAgICAgYW5zd2VyOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxIZWFkZXJcbiAgICAgICAgaXNVc2VyRW1wdHk9e3N0YXRlLmlzVXNlckVtcHR5fVxuICAgICAgICBnb29nbGVMb2dpbj17KCkgPT4gZ29vZ2xlTG9naW4oKX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uIG14LWF1dG9cIj5cbiAgICAgICAgPFF1aXpcbiAgICAgICAgICBjb3VudD17c3RhdGUuY291bnR9XG4gICAgICAgICAgcXVpej17c3RhdGUucXVpeltzdGF0ZS5jb3VudF19XG4gICAgICAgICAgc2hvd0Fuc3dlcj17KG51bSwgcXVpeikgPT4gc2hvd0Fuc3dlcihudW0sIHF1aXopfVxuICAgICAgICAgIGFuc3dlcj17c3RhdGUuYW5zd2VyfVxuICAgICAgICAgIGNvcnJlY3Q9e3N0YXRlLmNvcnJlY3R9XG4gICAgICAgICAgYW5zd2VyTnVtYmVyPXtzdGF0ZS5hbnN3ZXJOdW1iZXJ9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPEJ1dHRvbnNcbiAgICAgICAgICBuZXh0UXVlc3Rpb249eyhudW0sIHF1aXopID0+IG5leHRRdWVzdGlvbigpfVxuICAgICAgICAgIHJldHVyblF1ZXN0aW9uPXsobnVtLCBxdWl6KSA9PiByZXR1cm5RdWVzdGlvbigpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsICdSb2JvdG8nLCAnT3h5Z2VuJyxcbiAgICAgICAgICAgICdVYnVudHUnLCAnQ2FudGFyZWxsJywgJ0ZpcmEgU2FucycsICdEcm9pZCBTYW5zJywgJ0hlbHZldGljYSBOZXVlJyxcbiAgICAgICAgICAgIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAgICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoL2ltYWdlcy9iYWNrZ3JvdW5kLmpwZyk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIGNvZGUge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IHNvdXJjZS1jb2RlLXBybywgTWVubG8sIE1vbmFjbywgQ29uc29sYXMsICdDb3VyaWVyIE5ldycsXG4gICAgICAgICAgICBtb25vc3BhY2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5xdWVzdGlvbntcbiAgICAgICAgICAgIG1hcmdpbi10b3A6MjBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6MjBweDtcbiAgICAgICAgICAgIHdpZHRoOjgwMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5jaG9pY2V7XG4gICAgICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjEwcHg7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOjIwcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAucXVlc3Rpb24tY29ycmVjdC1jaG9pY2V7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiM1MmM0MWE7XG4gICAgICAgICAgICBjb2xvcjp3aGl0ZTtcbiAgICAgICAgICAgIGJvcmRlcjogIzUyYzQxYSA0cHggc29saWQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5xdWVzdGlvbi13cm9uZy1jaG9pY2V7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnJlZDtcbiAgICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICAgYm9yZGVyOnJlZCA0cHggc29saWQ7XG4gICAgICAgIH1cbiAgICAgICAgLmNob2ljZSBwe1xuICAgICAgICAgICAgZm9udC1zaXplOjIwcHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDpib2xkO1xuICAgICAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIH1cbiAgICAgICAgLmFuc3dlci1kaXNjcmlwdGlvbntcbiAgICAgICAgICAgIGJvcmRlcjogIzUyYzQxYSA0cHggc29saWQ7XG4gICAgICAgICAgICBtYXJnaW46IDE1cHggMCAxNXB4IDA7XG4gICAgICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuICAgICAgICAuYnV0dG9uLWZpZWxke1xuICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5xdWl6LWJ1dHRvbntcbiAgICAgICAgICAgIG1hcmdpbjo0MHB4IDgwcHg7XG4gICAgICAgIH0gIFxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFpbjtcbiJdfQ== */\\n/*@ sourceURL=/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js */\"));\n};\n\nexport default Main;","map":{"version":3,"sources":["/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js"],"names":["React","useEffect","useState","firebase","db","Quiz","Header","Buttons","Main","state","setState","loginEmail","loginPassword","email","password","isUserEmpty","quiz","quizLength","count","answer","correct","answerNumber","auth","onAuthStateChanged","user","console","log","list","collection","get","then","querySnapshot","forEach","doc","new_hash","text","data","choice1","choice2","choice3","choice4","push","length","logout","signOut","catch","error","googleLogin","provider","GoogleAuthProvider","signInWithPopup","result","nextQuestion","returnQuestion","showAnswer","num"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport { db } from \"../firebase\";\nimport Quiz from \"../components/Quiz\";\nimport Header from \"../components/Header\";\nimport Buttons from \"../components/Buttons\";\n\nconst Main = () => {\n  const [state, setState] = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    quizLength: 0,\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100,\n  });\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState({\n          ...state,\n          isUserEmpty: false,\n        });\n      }\n      console.log(\"useEffect実行中\");\n    });\n\n    let list = [];\n    db.collection(\"quiz\")\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          const new_hash = {\n            text: doc.data().text,\n            choice1: doc.data().choice1,\n            choice2: doc.data().choice2,\n            choice3: doc.data().choice3,\n            choice4: doc.data().choice4,\n            answer: doc.data().answer,\n          };\n          list.push(new_hash);\n        });\n        setState({\n          ...state,\n          quiz: list,\n          quizLength: quiz.length,\n        });\n      });\n    \n    return () => {\n      console.log('unmounting')\n    }\n  }, []);\n\n  const logout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(function () {})\n      .catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then(function (result) {})\n        .catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState({\n      ...state,\n      count: count,\n      answer: false,\n    });\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState({\n      ...state,\n      count: count,\n    });\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: true,\n        answer: true,\n      });\n    } else {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: false,\n        answer: true,\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Header\n        isUserEmpty={state.isUserEmpty}\n        googleLogin={() => googleLogin()}\n      />\n      <div className=\"question mx-auto\">\n        <Quiz\n          count={state.count}\n          quiz={state.quiz[state.count]}\n          showAnswer={(num, quiz) => showAnswer(num, quiz)}\n          answer={state.answer}\n          correct={state.correct}\n          answerNumber={state.answerNumber}\n        />\n\n        <Buttons\n          nextQuestion={(num, quiz) => nextQuestion()}\n          returnQuestion={(num, quiz) => returnQuestion()}\n        />\n      </div>\n      <style jsx global>{`\n        body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n            background-image: url(/images/background.jpg);\n            background-size: cover;\n            text-decoration: none;\n        }\n        code {\n            font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n            monospace;\n        }\n        \n        .question{\n            margin-top:20px;\n            padding:20px;\n            width:800px;\n            background-color:white;\n        }\n        \n        a{\n            font-weight:bold;\n        }\n        \n        .choice{\n            padding:10px;\n            border-radius:10px;\n            margin-top:20px;\n            display: block;\n            width:100%;\n            text-align: left;\n        }\n        \n        .question-correct-choice{\n            background-color:#52c41a;\n            color:white;\n            border: #52c41a 4px solid;\n        }\n        \n        .question-wrong-choice{\n            background-color:red;\n            color:white;\n            border:red 4px solid;\n        }\n        .choice p{\n            font-size:20px;\n            font-weight:bold;\n            margin:0;\n        }\n        .answer-discription{\n            border: #52c41a 4px solid;\n            margin: 15px 0 15px 0;\n            padding:10px;\n            font-weight: bold;\n        }\n        .button-field{\n            text-align:center;\n        }\n        \n        .quiz-button{\n            margin:40px 80px;\n        }  \n      `}</style>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}