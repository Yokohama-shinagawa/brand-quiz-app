{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"../src/firebase\";\nimport { db } from \"../src/firebase\";\nimport Quiz from \"../src/components/Quiz\";\nimport Header from \"../src/components/Header\";\nimport Buttons from \"../src/components/Buttons\";\n\nconst Main = () => {\n  _s();\n\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100\n  });\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          isUserEmpty: false\n        }));\n      }\n\n      console.log(\"useEffect実行中\");\n    });\n    let list = [];\n    db.collection(\"quiz\").get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        const new_hash = {\n          text: doc.data().text,\n          choice1: doc.data().choice1,\n          choice2: doc.data().choice2,\n          choice3: doc.data().choice3,\n          choice4: doc.data().choice4,\n          answer: doc.data().answer\n        };\n        list.push(new_hash);\n      });\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        quiz: list\n      }));\n    });\n    return () => {\n      console.log('unmounting');\n    };\n  }, []);\n\n  const logout = () => {\n    firebase.auth().signOut().then(function () {}).catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase.auth().signInWithPopup(provider).then(function (result) {}).catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count,\n      answer: false\n    }));\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count\n    }));\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: true,\n        answer: true\n      }));\n    } else {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: false,\n        answer: true\n      }));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-1985524870\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    isUserEmpty: state.isUserEmpty,\n    googleLogin: () => googleLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1985524870\" + \" \" + \"question mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, __jsx(Quiz, {\n    quiz: state.quiz[state.count],\n    showAnswer: (num, quiz) => showAnswer(num, quiz),\n    answer: state.answer,\n    correct: state.correct,\n    answerNumber: state.answerNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), __jsx(Buttons, {\n    nextQuestion: (num, quiz) => nextQuestion(),\n    returnQuestion: (num, quiz) => returnQuestion(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"1985524870\",\n    __self: this\n  }, \"body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen', 'Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue', sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-image:url(/images/background.jpg);background-size:cover;-webkit-text-decoration:none;text-decoration:none;}code{font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New', monospace;}.question{margin-top:20px;padding:20px;width:800px;background-color:white;}a{font-weight:bold;}.choice{padding:10px;border-radius:10px;margin-top:20px;display:block;width:100%;text-align:left;}.question-correct-choice{background-color:#52c41a;color:white;border:#52c41a 4px solid;}.question-wrong-choice{background-color:red;color:white;border:red 4px solid;}.choice p{font-size:20px;font-weight:bold;margin:0;}.answer-discription{border:#52c41a 4px solid;margin:15px 0 15px 0;padding:10px;font-weight:bold;}.button-field{text-align:center;}.quiz-button{margin:40px 80px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0l5QixBQUdzQixBQVlBLEFBSU0sQUFPQyxBQUlKLEFBU1ksQUFNSixBQUtOLEFBS1csQUFNUixBQUlELFNBM0ROLElBeUJRLEVBb0JGLENBL0JKLENBT2hCLEFBdUNBLENBSkEsR0FoQmUsSUFOQSxBQWdCVSxJQW5DVixHQVdJLEFBb0JQLENBTFksSUFOSyxJQW5CSCxBQStCMUIsS0FJZ0IsRUF4QkUsTUFlbEIsS0FVcUIsR0F4QlAsQUFRZCxFQW5CQSxTQVlvQixFQW5CcEIsQ0EyQ0EsYUF2QkEsc0VBN0J1QyxtQ0FDRCxrQ0FDVyw2Q0FDdkIsc0JBQ0Qsa0RBQ3pCIiwiZmlsZSI6Ii9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGZpcmViYXNlIGZyb20gXCIuLi9zcmMvZmlyZWJhc2VcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4uL3NyYy9maXJlYmFzZVwiO1xuaW1wb3J0IFF1aXogZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL1F1aXpcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0hlYWRlclwiO1xuaW1wb3J0IEJ1dHRvbnMgZnJvbSBcIi4uL3NyYy9jb21wb25lbnRzL0J1dHRvbnNcIjtcblxuY29uc3QgTWFpbiA9ICgpID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgbG9naW5FbWFpbDogXCJcIixcbiAgICBsb2dpblBhc3N3b3JkOiBcIlwiLFxuICAgIGVtYWlsOiBcIlwiLFxuICAgIHBhc3N3b3JkOiBcIlwiLFxuICAgIGlzVXNlckVtcHR5OiB0cnVlLFxuICAgIHF1aXo6IFtdLFxuICAgIGNvdW50OiAwLFxuICAgIGFuc3dlcjogZmFsc2UsXG4gICAgY29ycmVjdDogZmFsc2UsXG4gICAgYW5zd2VyTnVtYmVyOiAxMDAsXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0cnVl44Gn44GZ77yBXCIpO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgaXNVc2VyRW1wdHk6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKFwidXNlRWZmZWN05a6f6KGM5LitXCIpO1xuICAgIH0pO1xuXG4gICAgbGV0IGxpc3QgPSBbXTtcbiAgICBkYi5jb2xsZWN0aW9uKFwicXVpelwiKVxuICAgICAgLmdldCgpXG4gICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4ge1xuICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld19oYXNoID0ge1xuICAgICAgICAgICAgdGV4dDogZG9jLmRhdGEoKS50ZXh0LFxuICAgICAgICAgICAgY2hvaWNlMTogZG9jLmRhdGEoKS5jaG9pY2UxLFxuICAgICAgICAgICAgY2hvaWNlMjogZG9jLmRhdGEoKS5jaG9pY2UyLFxuICAgICAgICAgICAgY2hvaWNlMzogZG9jLmRhdGEoKS5jaG9pY2UzLFxuICAgICAgICAgICAgY2hvaWNlNDogZG9jLmRhdGEoKS5jaG9pY2U0LFxuICAgICAgICAgICAgYW5zd2VyOiBkb2MuZGF0YSgpLmFuc3dlcixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxpc3QucHVzaChuZXdfaGFzaCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgcXVpejogbGlzdCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3VubW91bnRpbmcnKVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHtcbiAgICBmaXJlYmFzZVxuICAgICAgLmF1dGgoKVxuICAgICAgLnNpZ25PdXQoKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge30pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7fSk7XG4gIH07XG5cbiAgY29uc3QgZ29vZ2xlTG9naW4gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAgICBpZiAoc3RhdGUuaXNVc2VyRW1wdHkpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZ29vZ2xl44Gn44Ot44Kw44Kk44Oz44GX44G+44GZXCIpO1xuICAgICAgZmlyZWJhc2VcbiAgICAgICAgLmF1dGgoKVxuICAgICAgICAuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7fSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbmV4dFF1ZXN0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvdW50ID0gc3RhdGUuY291bnQgKyAxO1xuICAgIHNldFN0YXRlKHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY291bnQ6IGNvdW50LFxuICAgICAgYW5zd2VyOiBmYWxzZSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZXR1cm5RdWVzdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb3VudCA9IHN0YXRlLmNvdW50IC0gMTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvdW50OiBjb3VudCxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzaG93QW5zd2VyID0gKG51bSwgYW5zd2VyKSA9PiB7XG4gICAgaWYgKG51bSA9PT0gYW5zd2VyKSB7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhbnN3ZXJOdW1iZXI6IG51bSxcbiAgICAgICAgY29ycmVjdDogdHJ1ZSxcbiAgICAgICAgYW5zd2VyOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFuc3dlck51bWJlcjogbnVtLFxuICAgICAgICBjb3JyZWN0OiBmYWxzZSxcbiAgICAgICAgYW5zd2VyOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxIZWFkZXJcbiAgICAgICAgaXNVc2VyRW1wdHk9e3N0YXRlLmlzVXNlckVtcHR5fVxuICAgICAgICBnb29nbGVMb2dpbj17KCkgPT4gZ29vZ2xlTG9naW4oKX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uIG14LWF1dG9cIj5cbiAgICAgICAgPFF1aXpcbiAgICAgICAgICBxdWl6PXtzdGF0ZS5xdWl6W3N0YXRlLmNvdW50XX1cbiAgICAgICAgICBzaG93QW5zd2VyPXsobnVtLCBxdWl6KSA9PiBzaG93QW5zd2VyKG51bSwgcXVpeil9XG4gICAgICAgICAgYW5zd2VyPXtzdGF0ZS5hbnN3ZXJ9XG4gICAgICAgICAgY29ycmVjdD17c3RhdGUuY29ycmVjdH1cbiAgICAgICAgICBhbnN3ZXJOdW1iZXI9e3N0YXRlLmFuc3dlck51bWJlcn1cbiAgICAgICAgLz5cblxuICAgICAgICA8QnV0dG9uc1xuICAgICAgICAgIG5leHRRdWVzdGlvbj17KG51bSwgcXVpeikgPT4gbmV4dFF1ZXN0aW9uKCl9XG4gICAgICAgICAgcmV0dXJuUXVlc3Rpb249eyhudW0sIHF1aXopID0+IHJldHVyblF1ZXN0aW9uKCl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgJ1JvYm90bycsICdPeHlnZW4nLFxuICAgICAgICAgICAgJ1VidW50dScsICdDYW50YXJlbGwnLCAnRmlyYSBTYW5zJywgJ0Ryb2lkIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLFxuICAgICAgICAgICAgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgvaW1hZ2VzL2JhY2tncm91bmQuanBnKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSB7XG4gICAgICAgICAgICBmb250LWZhbWlseTogc291cmNlLWNvZGUtcHJvLCBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgJ0NvdXJpZXIgTmV3JyxcbiAgICAgICAgICAgIG1vbm9zcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1ZXN0aW9ue1xuICAgICAgICAgICAgbWFyZ2luLXRvcDoyMHB4O1xuICAgICAgICAgICAgcGFkZGluZzoyMHB4O1xuICAgICAgICAgICAgd2lkdGg6ODAwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhe1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6Ym9sZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmNob2ljZXtcbiAgICAgICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTBweDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6MjBweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5xdWVzdGlvbi1jb3JyZWN0LWNob2ljZXtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzUyYzQxYTtcbiAgICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICAgYm9yZGVyOiAjNTJjNDFhIDRweCBzb2xpZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1ZXN0aW9uLXdyb25nLWNob2ljZXtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6cmVkO1xuICAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgICBib3JkZXI6cmVkIDRweCBzb2xpZDtcbiAgICAgICAgfVxuICAgICAgICAuY2hvaWNlIHB7XG4gICAgICAgICAgICBmb250LXNpemU6MjBweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gICAgICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgfVxuICAgICAgICAuYW5zd2VyLWRpc2NyaXB0aW9ue1xuICAgICAgICAgICAgYm9yZGVyOiAjNTJjNDFhIDRweCBzb2xpZDtcbiAgICAgICAgICAgIG1hcmdpbjogMTVweCAwIDE1cHggMDtcbiAgICAgICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICB9XG4gICAgICAgIC5idXR0b24tZmllbGR7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1aXotYnV0dG9ue1xuICAgICAgICAgICAgbWFyZ2luOjQwcHggODBweDtcbiAgICAgICAgfSAgXG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYWluO1xuIl19 */\\n/*@ sourceURL=/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js */\"));\n};\n\n_s(Main, \"N9UNRsAnSJMtkvhysGuQIGMHFdg=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js"],"names":["React","useEffect","useState","firebase","db","Quiz","Header","Buttons","Main","state","setState","loginEmail","loginPassword","email","password","isUserEmpty","quiz","count","answer","correct","answerNumber","auth","onAuthStateChanged","user","console","log","list","collection","get","then","querySnapshot","forEach","doc","new_hash","text","data","choice1","choice2","choice3","choice4","push","logout","signOut","catch","error","googleLogin","provider","GoogleAuthProvider","signInWithPopup","result","nextQuestion","returnQuestion","showAnswer","num"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport firebase from \"../src/firebase\";\nimport { db } from \"../src/firebase\";\nimport Quiz from \"../src/components/Quiz\";\nimport Header from \"../src/components/Header\";\nimport Buttons from \"../src/components/Buttons\";\n\nconst Main = () => {\n  const [state, setState] = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100,\n  });\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState({\n          ...state,\n          isUserEmpty: false,\n        });\n      }\n      console.log(\"useEffect実行中\");\n    });\n\n    let list = [];\n    db.collection(\"quiz\")\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          const new_hash = {\n            text: doc.data().text,\n            choice1: doc.data().choice1,\n            choice2: doc.data().choice2,\n            choice3: doc.data().choice3,\n            choice4: doc.data().choice4,\n            answer: doc.data().answer,\n          };\n          list.push(new_hash);\n        });\n        setState({\n          ...state,\n          quiz: list,\n        });\n      });\n    \n    return () => {\n      console.log('unmounting')\n    }\n  }, []);\n\n  const logout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(function () {})\n      .catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then(function (result) {})\n        .catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState({\n      ...state,\n      count: count,\n      answer: false,\n    });\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState({\n      ...state,\n      count: count,\n    });\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: true,\n        answer: true,\n      });\n    } else {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: false,\n        answer: true,\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Header\n        isUserEmpty={state.isUserEmpty}\n        googleLogin={() => googleLogin()}\n      />\n      <div className=\"question mx-auto\">\n        <Quiz\n          quiz={state.quiz[state.count]}\n          showAnswer={(num, quiz) => showAnswer(num, quiz)}\n          answer={state.answer}\n          correct={state.correct}\n          answerNumber={state.answerNumber}\n        />\n\n        <Buttons\n          nextQuestion={(num, quiz) => nextQuestion()}\n          returnQuestion={(num, quiz) => returnQuestion()}\n        />\n      </div>\n      <style jsx global>{`\n        body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n            background-image: url(/images/background.jpg);\n            background-size: cover;\n            text-decoration: none;\n        }\n        code {\n            font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n            monospace;\n        }\n        \n        .question{\n            margin-top:20px;\n            padding:20px;\n            width:800px;\n            background-color:white;\n        }\n        \n        a{\n            font-weight:bold;\n        }\n        \n        .choice{\n            padding:10px;\n            border-radius:10px;\n            margin-top:20px;\n            display: block;\n            width:100%;\n            text-align: left;\n        }\n        \n        .question-correct-choice{\n            background-color:#52c41a;\n            color:white;\n            border: #52c41a 4px solid;\n        }\n        \n        .question-wrong-choice{\n            background-color:red;\n            color:white;\n            border:red 4px solid;\n        }\n        .choice p{\n            font-size:20px;\n            font-weight:bold;\n            margin:0;\n        }\n        .answer-discription{\n            border: #52c41a 4px solid;\n            margin: 15px 0 15px 0;\n            padding:10px;\n            font-weight: bold;\n        }\n        .button-field{\n            text-align:center;\n        }\n        \n        .quiz-button{\n            margin:40px 80px;\n        }  \n      `}</style>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}