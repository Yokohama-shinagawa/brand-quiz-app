{"ast":null,"code":"var _jsxFileName = \"/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport { db } from \"../firebase\";\nimport Quiz from \"../components/Quiz\";\nimport Header from \"../components/Header\";\nimport Buttons from \"../components/Buttons\";\n\nconst Main = () => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100\n  });\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          isUserEmpty: false\n        }));\n      }\n\n      console.log(\"useEffect実行中\");\n    });\n    let list = [];\n    db.collection(\"quiz\").get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        const new_hash = {\n          text: doc.data().text,\n          choice1: doc.data().choice1,\n          choice2: doc.data().choice2,\n          choice3: doc.data().choice3,\n          choice4: doc.data().choice4,\n          answer: doc.data().answer\n        };\n        list.push(new_hash);\n      });\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        quiz: list\n      }));\n    });\n    return () => {\n      console.log('unmounting');\n    };\n  }, []);\n\n  const logout = () => {\n    firebase.auth().signOut().then(function () {}).catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase.auth().signInWithPopup(provider).then(function (result) {}).catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count,\n      answer: false\n    }));\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      count: count\n    }));\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: true,\n        answer: true\n      }));\n    } else {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        answerNumber: num,\n        correct: false,\n        answer: true\n      }));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-1985524870\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    isUserEmpty: state.isUserEmpty,\n    googleLogin: () => googleLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1985524870\" + \" \" + \"question mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, __jsx(Quiz, {\n    count: state.count,\n    quiz: state.quiz[state.count],\n    showAnswer: (num, quiz) => showAnswer(num, quiz),\n    answer: state.answer,\n    correct: state.correct,\n    answerNumber: state.answerNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), __jsx(Buttons, {\n    count: state.count,\n    nextQuestion: (num, quiz) => nextQuestion(),\n    returnQuestion: (num, quiz) => returnQuestion(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"1985524870\",\n    __self: this\n  }, \"body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen', 'Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue', sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-image:url(/images/background.jpg);background-size:cover;-webkit-text-decoration:none;text-decoration:none;}code{font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New', monospace;}.question{margin-top:20px;padding:20px;width:800px;background-color:white;}a{font-weight:bold;}.choice{padding:10px;border-radius:10px;margin-top:20px;display:block;width:100%;text-align:left;}.question-correct-choice{background-color:#52c41a;color:white;border:#52c41a 4px solid;}.question-wrong-choice{background-color:red;color:white;border:red 4px solid;}.choice p{font-size:20px;font-weight:bold;margin:0;}.answer-discription{border:#52c41a 4px solid;margin:15px 0 15px 0;padding:10px;font-weight:bold;}.button-field{text-align:center;}.quiz-button{margin:40px 80px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEl5QixBQUdzQixBQVlBLEFBSU0sQUFPQyxBQUlKLEFBU1ksQUFNSixBQUtOLEFBS1csQUFNUixBQUlELFNBM0ROLElBeUJRLEVBb0JGLENBL0JKLENBT2hCLEFBdUNBLENBSkEsR0FoQmUsSUFOQSxBQWdCVSxJQW5DVixHQVdJLEFBb0JQLENBTFksSUFOSyxJQW5CSCxBQStCMUIsS0FJZ0IsRUF4QkUsTUFlbEIsS0FVcUIsR0F4QlAsQUFRZCxFQW5CQSxTQVlvQixFQW5CcEIsQ0EyQ0EsYUF2QkEsc0VBN0J1QyxtQ0FDRCxrQ0FDVyw2Q0FDdkIsc0JBQ0Qsa0RBQ3pCIiwiZmlsZSI6Ii9Vc2Vycy9rZW50YS9Eb2N1bWVudHMvcmVhY3QvYnJhbmQtcXVpei1hcHAvc3JjL3BhZ2VzL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGZpcmViYXNlIGZyb20gXCIuLi9maXJlYmFzZVwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vZmlyZWJhc2VcIjtcbmltcG9ydCBRdWl6IGZyb20gXCIuLi9jb21wb25lbnRzL1F1aXpcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XG5pbXBvcnQgQnV0dG9ucyBmcm9tIFwiLi4vY29tcG9uZW50cy9CdXR0b25zXCI7XG5cbmNvbnN0IE1haW4gPSAoKSA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGxvZ2luRW1haWw6IFwiXCIsXG4gICAgbG9naW5QYXNzd29yZDogXCJcIixcbiAgICBlbWFpbDogXCJcIixcbiAgICBwYXNzd29yZDogXCJcIixcbiAgICBpc1VzZXJFbXB0eTogdHJ1ZSxcbiAgICBxdWl6OiBbXSxcbiAgICBjb3VudDogMCxcbiAgICBhbnN3ZXI6IGZhbHNlLFxuICAgIGNvcnJlY3Q6IGZhbHNlLFxuICAgIGFuc3dlck51bWJlcjogMTAwLFxuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidHJ1ZeOBp+OBme+8gVwiKTtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIGlzVXNlckVtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcInVzZUVmZmVjdOWun+ihjOS4rVwiKTtcbiAgICB9KTtcblxuICAgIGxldCBsaXN0ID0gW107XG4gICAgZGIuY29sbGVjdGlvbihcInF1aXpcIilcbiAgICAgIC5nZXQoKVxuICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHtcbiAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdfaGFzaCA9IHtcbiAgICAgICAgICAgIHRleHQ6IGRvYy5kYXRhKCkudGV4dCxcbiAgICAgICAgICAgIGNob2ljZTE6IGRvYy5kYXRhKCkuY2hvaWNlMSxcbiAgICAgICAgICAgIGNob2ljZTI6IGRvYy5kYXRhKCkuY2hvaWNlMixcbiAgICAgICAgICAgIGNob2ljZTM6IGRvYy5kYXRhKCkuY2hvaWNlMyxcbiAgICAgICAgICAgIGNob2ljZTQ6IGRvYy5kYXRhKCkuY2hvaWNlNCxcbiAgICAgICAgICAgIGFuc3dlcjogZG9jLmRhdGEoKS5hbnN3ZXIsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsaXN0LnB1c2gobmV3X2hhc2gpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHF1aXo6IGxpc3QsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCd1bm1vdW50aW5nJylcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XG4gICAgZmlyZWJhc2VcbiAgICAgIC5hdXRoKClcbiAgICAgIC5zaWduT3V0KClcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHt9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge30pO1xuICB9O1xuXG4gIGNvbnN0IGdvb2dsZUxvZ2luID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gICAgaWYgKHN0YXRlLmlzVXNlckVtcHR5KSB7XG4gICAgICBjb25zb2xlLmxvZyhcImdvb2dsZeOBp+ODreOCsOOCpOODs+OBl+OBvuOBmVwiKTtcbiAgICAgIGZpcmViYXNlXG4gICAgICAgIC5hdXRoKClcbiAgICAgICAgLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcilcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge30pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nb3V0KCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG5leHRRdWVzdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb3VudCA9IHN0YXRlLmNvdW50ICsgMTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgIGFuc3dlcjogZmFsc2UsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmV0dXJuUXVlc3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY291bnQgPSBzdGF0ZS5jb3VudCAtIDE7XG4gICAgc2V0U3RhdGUoe1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb3VudDogY291bnQsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2hvd0Fuc3dlciA9IChudW0sIGFuc3dlcikgPT4ge1xuICAgIGlmIChudW0gPT09IGFuc3dlcikge1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYW5zd2VyTnVtYmVyOiBudW0sXG4gICAgICAgIGNvcnJlY3Q6IHRydWUsXG4gICAgICAgIGFuc3dlcjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhbnN3ZXJOdW1iZXI6IG51bSxcbiAgICAgICAgY29ycmVjdDogZmFsc2UsXG4gICAgICAgIGFuc3dlcjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8SGVhZGVyXG4gICAgICAgIGlzVXNlckVtcHR5PXtzdGF0ZS5pc1VzZXJFbXB0eX1cbiAgICAgICAgZ29vZ2xlTG9naW49eygpID0+IGdvb2dsZUxvZ2luKCl9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbiBteC1hdXRvXCI+XG4gICAgICAgIDxRdWl6XG4gICAgICAgICAgY291bnQ9e3N0YXRlLmNvdW50fVxuICAgICAgICAgIHF1aXo9e3N0YXRlLnF1aXpbc3RhdGUuY291bnRdfVxuICAgICAgICAgIHNob3dBbnN3ZXI9eyhudW0sIHF1aXopID0+IHNob3dBbnN3ZXIobnVtLCBxdWl6KX1cbiAgICAgICAgICBhbnN3ZXI9e3N0YXRlLmFuc3dlcn1cbiAgICAgICAgICBjb3JyZWN0PXtzdGF0ZS5jb3JyZWN0fVxuICAgICAgICAgIGFuc3dlck51bWJlcj17c3RhdGUuYW5zd2VyTnVtYmVyfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxCdXR0b25zXG4gICAgICAgICAgY291bnQ9e3N0YXRlLmNvdW50fVxuICAgICAgICAgIG5leHRRdWVzdGlvbj17KG51bSwgcXVpeikgPT4gbmV4dFF1ZXN0aW9uKCl9XG4gICAgICAgICAgcmV0dXJuUXVlc3Rpb249eyhudW0sIHF1aXopID0+IHJldHVyblF1ZXN0aW9uKCl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgJ1JvYm90bycsICdPeHlnZW4nLFxuICAgICAgICAgICAgJ1VidW50dScsICdDYW50YXJlbGwnLCAnRmlyYSBTYW5zJywgJ0Ryb2lkIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLFxuICAgICAgICAgICAgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgvaW1hZ2VzL2JhY2tncm91bmQuanBnKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSB7XG4gICAgICAgICAgICBmb250LWZhbWlseTogc291cmNlLWNvZGUtcHJvLCBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgJ0NvdXJpZXIgTmV3JyxcbiAgICAgICAgICAgIG1vbm9zcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1ZXN0aW9ue1xuICAgICAgICAgICAgbWFyZ2luLXRvcDoyMHB4O1xuICAgICAgICAgICAgcGFkZGluZzoyMHB4O1xuICAgICAgICAgICAgd2lkdGg6ODAwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhe1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6Ym9sZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmNob2ljZXtcbiAgICAgICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTBweDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6MjBweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5xdWVzdGlvbi1jb3JyZWN0LWNob2ljZXtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzUyYzQxYTtcbiAgICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICAgYm9yZGVyOiAjNTJjNDFhIDRweCBzb2xpZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1ZXN0aW9uLXdyb25nLWNob2ljZXtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6cmVkO1xuICAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgICBib3JkZXI6cmVkIDRweCBzb2xpZDtcbiAgICAgICAgfVxuICAgICAgICAuY2hvaWNlIHB7XG4gICAgICAgICAgICBmb250LXNpemU6MjBweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gICAgICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgfVxuICAgICAgICAuYW5zd2VyLWRpc2NyaXB0aW9ue1xuICAgICAgICAgICAgYm9yZGVyOiAjNTJjNDFhIDRweCBzb2xpZDtcbiAgICAgICAgICAgIG1hcmdpbjogMTVweCAwIDE1cHggMDtcbiAgICAgICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICB9XG4gICAgICAgIC5idXR0b24tZmllbGR7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnF1aXotYnV0dG9ue1xuICAgICAgICAgICAgbWFyZ2luOjQwcHggODBweDtcbiAgICAgICAgfSAgXG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYWluO1xuIl19 */\\n/*@ sourceURL=/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js */\"));\n};\n\nexport default Main;","map":{"version":3,"sources":["/Users/kenta/Documents/react/brand-quiz-app/src/pages/main.js"],"names":["React","useEffect","useState","firebase","db","Quiz","Header","Buttons","Main","state","setState","loginEmail","loginPassword","email","password","isUserEmpty","quiz","count","answer","correct","answerNumber","auth","onAuthStateChanged","user","console","log","list","collection","get","then","querySnapshot","forEach","doc","new_hash","text","data","choice1","choice2","choice3","choice4","push","logout","signOut","catch","error","googleLogin","provider","GoogleAuthProvider","signInWithPopup","result","nextQuestion","returnQuestion","showAnswer","num"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport { db } from \"../firebase\";\nimport Quiz from \"../components/Quiz\";\nimport Header from \"../components/Header\";\nimport Buttons from \"../components/Buttons\";\n\nconst Main = () => {\n  const [state, setState] = useState({\n    loginEmail: \"\",\n    loginPassword: \"\",\n    email: \"\",\n    password: \"\",\n    isUserEmpty: true,\n    quiz: [],\n    count: 0,\n    answer: false,\n    correct: false,\n    answerNumber: 100,\n  });\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"trueです！\");\n        setState({\n          ...state,\n          isUserEmpty: false,\n        });\n      }\n      console.log(\"useEffect実行中\");\n    });\n\n    let list = [];\n    db.collection(\"quiz\")\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          const new_hash = {\n            text: doc.data().text,\n            choice1: doc.data().choice1,\n            choice2: doc.data().choice2,\n            choice3: doc.data().choice3,\n            choice4: doc.data().choice4,\n            answer: doc.data().answer,\n          };\n          list.push(new_hash);\n        });\n        setState({\n          ...state,\n          quiz: list,\n        });\n      });\n    \n    return () => {\n      console.log('unmounting')\n    }\n  }, []);\n\n  const logout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(function () {})\n      .catch(function (error) {});\n  };\n\n  const googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    if (state.isUserEmpty) {\n      console.log(\"googleでログインします\");\n      firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then(function (result) {})\n        .catch(function (error) {});\n    } else {\n      logout();\n    }\n  };\n\n  const nextQuestion = () => {\n    const count = state.count + 1;\n    setState({\n      ...state,\n      count: count,\n      answer: false,\n    });\n  };\n\n  const returnQuestion = () => {\n    const count = state.count - 1;\n    setState({\n      ...state,\n      count: count,\n    });\n  };\n\n  const showAnswer = (num, answer) => {\n    if (num === answer) {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: true,\n        answer: true,\n      });\n    } else {\n      setState({\n        ...state,\n        answerNumber: num,\n        correct: false,\n        answer: true,\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Header\n        isUserEmpty={state.isUserEmpty}\n        googleLogin={() => googleLogin()}\n      />\n      <div className=\"question mx-auto\">\n        <Quiz\n          count={state.count}\n          quiz={state.quiz[state.count]}\n          showAnswer={(num, quiz) => showAnswer(num, quiz)}\n          answer={state.answer}\n          correct={state.correct}\n          answerNumber={state.answerNumber}\n        />\n\n        <Buttons\n          count={state.count}\n          nextQuestion={(num, quiz) => nextQuestion()}\n          returnQuestion={(num, quiz) => returnQuestion()}\n        />\n      </div>\n      <style jsx global>{`\n        body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n            background-image: url(/images/background.jpg);\n            background-size: cover;\n            text-decoration: none;\n        }\n        code {\n            font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n            monospace;\n        }\n        \n        .question{\n            margin-top:20px;\n            padding:20px;\n            width:800px;\n            background-color:white;\n        }\n        \n        a{\n            font-weight:bold;\n        }\n        \n        .choice{\n            padding:10px;\n            border-radius:10px;\n            margin-top:20px;\n            display: block;\n            width:100%;\n            text-align: left;\n        }\n        \n        .question-correct-choice{\n            background-color:#52c41a;\n            color:white;\n            border: #52c41a 4px solid;\n        }\n        \n        .question-wrong-choice{\n            background-color:red;\n            color:white;\n            border:red 4px solid;\n        }\n        .choice p{\n            font-size:20px;\n            font-weight:bold;\n            margin:0;\n        }\n        .answer-discription{\n            border: #52c41a 4px solid;\n            margin: 15px 0 15px 0;\n            padding:10px;\n            font-weight: bold;\n        }\n        .button-field{\n            text-align:center;\n        }\n        \n        .quiz-button{\n            margin:40px 80px;\n        }  \n      `}</style>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}